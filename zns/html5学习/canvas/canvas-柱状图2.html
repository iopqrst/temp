<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title></title>
	<style type="text/css">
		body{  background:#000;}
		#c1{ background:#fff;}
	</style>
</head>
<body>

	<canvas id="c1" width="800" height="600">
		您的浏览器不支持canvas！
	</canvas>
	10.1
	<script type="text/javascript">
		function rnd(n,m) {
			return parseInt(Math.random() * (m - n) + n);
		};
		
		
		var oc = document.getElementById('c1');
		var cxt = oc.getContext('2d'); //上下文环境
		
		var arr = [252,203,367,191,398,125,253,291]; //柱状图数据
		var iMax = Math.max.apply(null, arr); //获取数据中最大的一个数据
		
		var padding = {
			l:50,
			r:50,
			t:50,
			b:50
		};

		//按照比例给每一个“柱子”计算高度
		var aHeight = [];
		for(var i = 0; i < arr.length ; i++) {
			aHeight[i] = (oc.height - padding.t - padding.b) * (arr[i] / iMax);
		};
		
		var space = 20; //两个柱子之间的距离
		var W = 50; //每个柱子的宽度
		
		var color = '';
		for(var i = 0; i < aHeight.length; i++){4
			color = 'rgba('+ rnd(0,256) +','+ rnd(0,256) +','+ rnd(0,256) +',0.8)';
			
			cxt.fillStyle = color;
			cxt.strokeStyle = color;
			
			cxt.fillRect((i+1) * W + i * space, (oc.height - aHeight[i] - padding.t), W, aHeight[i] - padding.b);
			cxt.strokeRect((i+1) * W + i * space, (oc.height - aHeight[i] - padding.t), W, aHeight[i] - padding.b);
		};
		
	</script>
</body>
</html>










